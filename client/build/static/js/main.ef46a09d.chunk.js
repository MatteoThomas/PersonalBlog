(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{38:function(e,t,n){e.exports=n.p+"static/media/delete-icon.14681645.png"},39:function(e,t,n){e.exports=n(76)},44:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var a,r,l,c,o,i=n(0),u=n.n(i),s=n(18),m=n.n(s),p=(n(44),n(11)),b=n(4),d=n(10),f=n(1),g=n(2),h=Object(g.a)(a||(a=Object(f.a)(["\n    body {\n        background-color: #4b4b4b;\n        margin: 0px;\n        padding: 0px;\n    }\n"]))),j=g.b.div(r||(r=Object(f.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 1rem;\n  justify-content: center;\n  width: clamp(300px, 100%, 1000px);\n  margin: 0 auto;\n  color: aliceblue;\n"]))),v=g.b.div(l||(l=Object(f.a)(["\n  display: flex;\n  flex-direction: column;\n  flex-wrap: wrap;\n  gap: 1rem;\n  justify-content: center;\n  width: clamp(300px, 95%, 1000px);\n  margin: 0 auto;\n  color: aliceblue;\n"]))),x=(g.b.div(c||(c=Object(f.a)(["\n  background-color: gray;\n  width: clamp(350px, 100%, 1000px);\n  height: fit-content;\n  margin: 0 0 1rem 0;\n  padding: 0.5rem;\n"]))),g.b.div(o||(o=Object(f.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  border: 0.5px rgb(97, 97, 97) solid;\n  border-radius: 10px;\n  padding: 0.5rem;\n"])))),O=n(5),E=n.n(O),w=n(6),y=n(3);var k,S,N=function(e){var t=e.onChange,n=e.onClick,a=e.className,r=e.buttonLabel;return u.a.createElement("button",{onClick:n,onChange:t,className:a},r)},L=Object(g.b)(N)(k||(k=Object(f.a)(["\n  border: 1px transparent solid;\n  border-radius: 2px;\n  transition: 0.4s;\n  height: 32px;\n  margin: 0 1rem 0 0;\n  &:hover {\n    transition: all 0.4s;\n    color: aliceblue;\n    background-color: darkgrey;\n  }\n\n  &:active {\n    border: 1px black solid;\n    background-color: black;\n  }\n"])));g.b.label(S||(S=Object(f.a)(["\n  font-size: 1rem;\n  color: aliceblue;\n"])));var C,I,P,D,_,U=function(e){var t=e.onChange,n=e.className;return u.a.createElement("input",{onChange:t,className:n})},z=g.b.div(C||(C=Object(f.a)([""]))),J=Object(g.b)(U)(I||(I=Object(f.a)(["\n  border-radius: 2px;\n  border: none;\n  width: 300px;\n  height: 1.6rem;\n  margin: 0.3rem 0 2rem 0;\n  padding: 0 0 0 0.5rem;\n"]))),R=(g.b.input(P||(P=Object(f.a)(["\n  font-size: 1rem;\n  color: aliceblue;\n"]))),g.b.div(D||(D=Object(f.a)(["\n  display: flex;\n  justify-content: center;\n"]))));g.b.input(_||(_=Object(f.a)(["\n  border-radius: 4px;\n  border: none;\n  width: 300px;\n  height: 1.6rem;\n  margin: 0.3rem 0 2rem 0;\n  padding: 0 0 0 0.5rem;\n"])));var A,F,M,B,T,q,G=function(){var e=Object(i.useState)(""),t=Object(y.a)(e,2),n=t[0],a=t[1],r=Object(i.useState)(""),l=Object(y.a)(r,2),c=l[0],o=l[1],s=Object(i.useState)(!1),m=Object(y.a)(s,2),b=m[0];function d(){return(d=Object(w.a)(E.a.mark((function e(t){var a,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("https://photo-mode.herokuapp.com/api/auth/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,password:c})});case 3:return a=e.sent,e.next=6,a.json();case 6:r=e.sent,console.log(r),null==r?alert("Check your name and password"):(localStorage.setItem("user",JSON.stringify(r)),window.location.href="/dashboard");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return m[1],u.a.createElement(u.a.Fragment,null,"      ",b?u.a.createElement("h1",null,"Loading"):u.a.createElement("form",{onSubmit:function(e){return d.apply(this,arguments)}},u.a.createElement("label",null,"Email"),u.a.createElement("br",null),u.a.createElement(z,null,u.a.createElement(J,{inputLabel:"Email",value:n,onChange:function(e){return a(e.target.value)},name:"Email",type:"text",required:!0,placeholder:"Email"})),u.a.createElement("br",null),u.a.createElement("label",null,"Password"),u.a.createElement("br",null),u.a.createElement(z,null,u.a.createElement(J,{value:c,name:"password",type:"password",onChange:function(e){return o(e.target.value)},required:!0,placeholder:"Email"})),u.a.createElement("br",null),u.a.createElement(R,null,u.a.createElement(L,{buttonLabel:"Login",type:"submit",value:"Login"},"Login"),u.a.createElement(p.b,{className:"link",to:"/Register"},u.a.createElement(L,{buttonLabel:"Register"},"Register")))))},V=g.b.div(A||(A=Object(f.a)(["\n  z-index: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  border-radius: 4px;\n  padding: 1rem;\n  width: clamp(300px, 95%, 700px);\n  height: 50%;\n  color: aliceblue;\n  margin: 0 auto;\n"]))),W=(Object(g.b)(d.motion.div)(F||(F=Object(f.a)([""]))),g.b.h1(M||(M=Object(f.a)(['\n  font-family: "Raleway" sans-serif;\n  font-weight: 100;\n  font-size: 3rem;\n'])))),H={initial:{opacity:0,x:-100},animate:{opacity:1,x:0},exit:{opacity:0,x:100}},K=function(e){var t=e.children;return u.a.createElement(d.motion.div,{variants:H,initial:"initial",animate:"animate",exit:"exit"},t)},Q=function(){return u.a.createElement(K,null,u.a.createElement(V,null,u.a.createElement(W,null,"Log In"),u.a.createElement(G,null)))},X=n(22),Y=n(14),Z=n(12),$=Object(Z.b)({name:"message",initialState:{},reducers:{setMessage:function(e,t){return{message:t.payload}},clearMessage:function(){return{message:""}}}}),ee=($.reducer,$.actions),te=ee.setMessage,ne=(ee.clearMessage,n(19)),ae=n.n(ne),re=ae.a.create({baseURL:"http://localhost:8080/api/"}),le={register:function(e,t,n){return re.post("/auth/signup",{username:e,email:t,password:n})},login:function(e,t){return re.post("/auth/signin",{username:e,password:t}).then((function(e){return e.data.accessToken&&localStorage.setItem("user",JSON.stringify(e.data)),e.data}))}},ce=JSON.parse(localStorage.getItem("user")),oe=Object(Z.a)("auth/register",function(){var e=Object(w.a)(E.a.mark((function e(t,n){var a,r,l,c,o;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.username,r=t.email,l=t.password,e.prev=1,e.next=4,le.register(a,r,l);case 4:return c=e.sent,n.dispatch(te(c.data.message)),e.abrupt("return",c.data);case 9:return e.prev=9,e.t0=e.catch(1),o=e.t0.response&&e.t0.response.data&&e.t0.response.data.message||e.t0.message||e.t0.toString(),n.dispatch(te(o)),e.abrupt("return",n.rejectWithValue());case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}()),ie=Object(Z.a)("auth/login",function(){var e=Object(w.a)(E.a.mark((function e(t,n){var a,r,l,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.username,r=t.password,e.prev=1,e.next=4,le.login(a,r);case 4:return l=e.sent,e.abrupt("return",{user:l});case 8:return e.prev=8,e.t0=e.catch(1),c=e.t0.response&&e.t0.response.data&&e.t0.response.data.message||e.t0.message||e.t0.toString(),n.dispatch(te(c)),e.abrupt("return",n.rejectWithValue());case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),ue=Object(Z.a)("auth/logout",Object(w.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le.logout();case 2:case"end":return e.stop()}}),e)})))),se=ce?{isLoggedIn:!0,user:ce}:{isLoggedIn:!1,user:null},me=(Object(Z.b)({name:"auth",initialState:se,extraReducers:(B={},Object(Y.a)(B,oe.fulfilled,(function(e,t){e.isLoggedIn=!1})),Object(Y.a)(B,oe.rejected,(function(e,t){e.isLoggedIn=!1})),Object(Y.a)(B,ie.fulfilled,(function(e,t){e.isLoggedIn=!0,e.user=t.payload.user})),Object(Y.a)(B,ie.rejected,(function(e,t){e.isLoggedIn=!1,e.user=null})),Object(Y.a)(B,ue.fulfilled,(function(e,t){e.isLoggedIn=!1,e.user=null})),B)}).reducer,g.b.div(T||(T=Object(f.a)(["\n  display: flex;\n  justify-content: center;\n"]))));g.b.input(q||(q=Object(f.a)(["\n  border-radius: 4px;\n  border: none;\n  width: 300px;\n  height: 1.6rem;\n  margin: 0.3rem 0 2rem 0;\n  padding: 0 0 0 0.5rem;\n"])));var pe,be,de,fe=function(){var e=Object(i.useState)(""),t=Object(y.a)(e,2),n=t[0],a=t[1],r=Object(i.useState)(""),l=Object(y.a)(r,2),c=l[0],o=l[1],s=Object(i.useState)(""),m=Object(y.a)(s,2),b=m[0],d=m[1];function f(){return(f=Object(w.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("https://photo-mode.herokuapp.com/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,email:c,password:b})});case 3:return a=e.sent,e.next=6,a.json();case 6:"ok"===e.sent.status&&(window.location.href="/login");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(X.b)((function(e){return e.message})).message,Object(X.a)(),u.a.createElement("form",{onSubmit:function(e){return f.apply(this,arguments)}},u.a.createElement("div",{className:"input-container"},u.a.createElement("label",null,"Name"),u.a.createElement("br",null),u.a.createElement(J,{value:n,onChange:function(e){return a(e.target.value)},type:"text",required:!0,placeholder:"Username"})),u.a.createElement("div",{className:"input-container"},u.a.createElement("label",null,"Email"),u.a.createElement("br",null),u.a.createElement(J,{value:c,onChange:function(e){return o(e.target.value)},type:"email",required:!0,placeholder:"Email"})),u.a.createElement("div",{className:"input-container"},u.a.createElement("label",null,"Password"),u.a.createElement("br",null),u.a.createElement(J,{value:b,onChange:function(e){return d(e.target.value)},type:"password",required:!0,placeholder:"Password"}),u.a.createElement("br",null)),u.a.createElement(me,null,u.a.createElement(L,{buttonLabel:"Register",className:"Btn",type:"submit",value:"Register"}),u.a.createElement(p.b,{to:"/Login"},u.a.createElement(L,{buttonLabel:"Login"}))))},ge=g.b.div(pe||(pe=Object(f.a)(["\n  z-index: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  border-radius: 4px;\n  padding: 1rem;\n  width: clamp(300px, 95%, 700px);\n  height: 50%;\n  color: aliceblue;\n  margin: 0 auto;\n"]))),he=(Object(g.b)(d.motion.div)(be||(be=Object(f.a)([""]))),g.b.h1(de||(de=Object(f.a)(['\n  font-family: "Raleway" sans-serif;\n  font-weight: 100;\n  font-size: 3rem;\n']))));var je,ve,xe,Oe,Ee,we,ye,ke,Se,Ne,Le,Ce=function(){return u.a.createElement(K,null,u.a.createElement(ge,null,u.a.createElement(he,null,"Register"),u.a.createElement(fe,null)))},Ie=g.b.div(je||(je=Object(f.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n"]))),Pe=Object(g.b)(d.motion.div)(ve||(ve=Object(f.a)([""]))),De=g.b.img(xe||(xe=Object(f.a)(["\n  padding: 0.5rem 0.5rem 0 0.5rem;\n  width: 300px;\n  transition: all 4s;\n"]))),_e=g.b.div(Oe||(Oe=Object(f.a)(["\n  display: flex;\n  flex-direction: column;\n  word-break: break-all;\n  width: 320px;\n  color: transparent;\n  transition: all 0.4s;\n  &:hover {\n    transition: all 0.4s;\n    color: aliceblue;\n  }\n"]))),Ue=g.b.div(Ee||(Ee=Object(f.a)(["\n  display: flex;\n  justify-content: space-between;\n  padding: 0 0.5rem 0.5rem 0.5rem;\n  color: aliceblue;\n"]))),ze=(g.b.h3(we||(we=Object(f.a)(["\n  color: aliceblue;\n"]))),g.b.img(ye||(ye=Object(f.a)(["\n  width: clamp(300px,100%, 1000px);\n"])))),Je=g.b.div(ke||(ke=Object(f.a)(["\n  margin: 0 auto; \n  position: relative;\n  z-index: 10;\n"]))),Re=g.b.div(Se||(Se=Object(f.a)(["\n  display: flex;\n\n  background-color: gray;\n  width: clamp(350px, 100%, 1000px);\n  height: fit-content;\n  margin: 0 0 1rem 0;\n  padding: 0.5rem;\n"]))),Ae=g.b.div(Ne||(Ne=Object(f.a)(["\n\n"]))),Fe=g.b.img(Le||(Le=Object(f.a)(["\n  width: 100px;\n  height:100px;\n  object-fit: cover;\n  margin: 0 .5rem 0 0;\n"])));var Me,Be,Te,qe,Ge,Ve,We,He,Ke,Qe,Xe,Ye,Ze,$e,et,tt,nt,at,rt,lt,ct,ot,it,ut,st,mt,pt,bt,dt,ft,gt,ht,jt,vt,xt,Ot,Et,wt,yt=function(e){var t=e.singleImage,n=e.singleImageUser,a=e.setShowModal,r=Object(i.useState)([]),l=Object(y.a)(r,2),c=l[0],o=l[1];return Object(i.useEffect)((function(){(function(){var e=Object(w.a)(E.a.mark((function e(){var t,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:8080/api/cloudinary/avatar?folderData=".concat(n));case 2:return t=e.sent,e.next=5,t.json();case 5:"ok"===(a=e.sent).status&&a.results.total_count?o(a.results.resources[0].secure_url):console.log("No avatar selected");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[n]),u.a.createElement(Je,null,u.a.createElement(Re,null,u.a.createElement(Fe,{src:c,alt:"avatar"}),u.a.createElement(Ae,null,"User: ",n," ",u.a.createElement("br",null)," Image Name: xxx ",u.a.createElement("br",null),"Upload Date: xxx")),u.a.createElement(ze,{onClick:function(e){return a((function(e){return!e}))},src:t}))},kt=function(){var e=Object(i.useState)(""),t=Object(y.a)(e,2),n=t[0],a=t[1],r=Object(i.useState)([]),l=Object(y.a)(r,2),c=l[0],o=l[1],s=Object(i.useState)(!1),m=Object(y.a)(s,2),p=m[0],b=m[1],d=Object(i.useState)(!1),f=Object(y.a)(d,2),g=f[0],h=f[1],j=Object(i.useState)(""),v=Object(y.a)(j,2),x=v[0],O=v[1],k=Object(i.useState)(""),S=Object(y.a)(k,2),N=S[0],L=S[1];return Object(i.useEffect)((function(){function e(){return(e=Object(w.a)(E.a.mark((function e(){var t,n,a,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://photo-mode.herokuapp.com/api/cloudinary/gallery");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,console.log(n),"ok"===n.status&&(a=n.results.resources,r=a.map((function(e){return{user:e.public_id.split("/")[0],folder:e.public_id.split("/")[0],image:e.url,name:e.public_id.split("/")[1],id:e.asset_id}})),o(r),b(!1));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){var e=Object(w.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,JSON.parse(window.localStorage.getItem("user"));case 3:null!==(t=e.sent)?a(t.username):alert("userName not set");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),function(){e.apply(this,arguments)}()}),[n]),u.a.createElement(u.a.Fragment,null,p?u.a.createElement("h1",null,"Loading..."):null,g?u.a.createElement(yt,{singleImage:x,singleImageUser:N,showModal:g,setShowModal:h}):u.a.createElement(Ie,null,c.map((function(e,t){return u.a.createElement(Pe,{key:e.id,id:t,initial:"hidden",animate:"show",transition:{delay:.04*t}},u.a.createElement(_e,null,u.a.createElement(De,{name:e.user,src:e.image,onClick:function(e){return function(e){h((function(e){return!e})),O(e.target.src),L(e.target.name)}(e)}}),u.a.createElement(Ue,null,u.a.createElement("div",null,e.folder," / ",e.name))))}))))},St=g.b.div(Me||(Me=Object(f.a)(["\n  width: 100%;\n  text-align: center;\n  border-bottom: 1px aliceblue solid;\n  margin: 0 0 2rem 0;\n"]))),Nt=function(){return Object(i.useEffect)((function(){}),[]),u.a.createElement(K,null,u.a.createElement(j,null,u.a.createElement(St,null,u.a.createElement("h1",null,"Explore")),u.a.createElement(kt,null)))},Lt=(g.b.div(Be||(Be=Object(f.a)(["\n  display: flex;\n  justify-content: left;\n  align-items: center;\n  color: aliceblue;\n  padding: 0.7rem 0 0 0.7rem;\n"]))),g.b.div(Te||(Te=Object(f.a)([""])))),Ct=function(e){var t=e.count,n=void 0===t?"":t;return u.a.createElement(Lt,null,"Uploads: ",n," ",u.a.createElement("br",null),"Comments: - ",u.a.createElement("br",null),"Likes: - ",u.a.createElement("br",null))},It=(n(75),g.b.div(qe||(qe=Object(f.a)(["\n  font-size: 1rem;\n  color: aliceblue;\n"])))),Pt=g.b.div(Ge||(Ge=Object(f.a)(["\n  margin: 0 1rem 0 1rem;\n  width: 100px;\n"]))),Dt=g.b.button(Ve||(Ve=Object(f.a)(["\n  background-color: #eb1717;\n  color: rgb(136, 136, 136);\n  border: 1px transparent solid;\n  border-radius: 4px;\n  border: 1px transparent solid;\n  transition: all 0.4s;\n  background-color: #b7eb7d;\n\n  height: 42px;\n  &:hover {\n    transition: all 0.4s;\n    background-color: transparent;\n    border: 1px #b7eb7d solid;\n\n    color: #b7eb7d;\n  }\n"]))),_t=g.b.img(We||(We=Object(f.a)(["\n  margin: 1rem auto 0;\n  width: 300px;\n"]))),Ut=g.b.div(He||(He=Object(f.a)(["\n  display: flex;\n  justify-content: left;\n  align-items: center;\n  padding: 0 0 0 0.7rem;\n  /* background-color:blue; */\n"]))),zt=function(e){var t=Object(i.useState)([]),n=Object(y.a)(t,2),a=n[0],r=n[1],l=Object(i.useState)(""),c=Object(y.a)(l,2),o=c[0],s=c[1],m=Object(i.useState)(""),p=Object(y.a)(m,2),b=p[0],d=p[1],f=e.folderName,g=void 0===f?"":f,h=e.uploadProp,j=void 0===h?e.uploadedProp:h,v=o.imagePreviewUrl&&u.a.createElement(_t,{src:o.imagePreviewUrl,alt:"NEED ALT DATA"}),x=o&&u.a.createElement(Dt,{onClick:function(){r(""),s("");var e=new FormData;e.append("file",a),e.append("folder",g),e.append("public_id",b),e.append("upload_preset","gallery"),e.append("cloud_name","proj3"),fetch("  https://api.cloudinary.com/v1_1/proj3/image/upload",{method:"post",body:e}).then((function(e){e.json(),j()})).catch((function(e){return console.log(e)}))}},"Upload");return u.a.createElement(It,null,u.a.createElement(Ut,null,u.a.createElement("h2",null,"Upload"),u.a.createElement(Pt,{buttonLabel:"Choose File"},u.a.createElement("input",{type:"file",accept:"image/png, image/jpeg, image/svg, image/gif",onChange:function(e){return function(e){e.preventDefault();var t=new FileReader,n=e.target.files[0];r(n),t.onloadend=function(){d(n.name),s({file:n,imagePreviewUrl:t.result})},t.readAsDataURL(n)}(e)}})),x),v)},Jt=n(38),Rt=n.n(Jt),At=g.b.div(Ke||(Ke=Object(f.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  gap: 1rem;\n"]))),Ft=g.b.div(Qe||(Qe=Object(f.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  background-color: transparent;\n  transition: background-color 0.4s;\n  /* margin: 1rem; */\n"]))),Mt=Object(g.b)(d.motion.div)(Xe||(Xe=Object(f.a)([""]))),Bt=g.b.div(Ye||(Ye=Object(f.a)(["\n  display: flex;\n  justify-content: space-between;\n  padding: 0 0 0 0.7rem;\n  margin: 0 0 0.5rem 0;\n  background-color: #242424;\n  color: #f7f7f7;\n  opacity: 1;\n  transition: all 0.4s;\n  &:hover {\n    transition: all 0.4s;\n    opacity: 1;\n  }\n"]))),Tt=g.b.div(Ze||(Ze=Object(f.a)(["\n  opacity: 0.5;\n  transition: all 2s;\n  &:hover {\n    transition: all 0.4s;\n    opacity: 1;\n  }\n"]))),qt=g.b.div($e||($e=Object(f.a)(["\n  filter: opacity(0);\n  width: 120px;\n  background-color: #e47a83;\n  color: #2e2e2e;\n  text-align: center;\n  border-radius: 6px;\n  padding: 5px 0;\n  /* Position the tooltip */\n  position: absolute;\n  z-index: 1;\n  ",":hover & {\n    transition: all 0.5s;\n    filter: opacity(1);\n  }\n"])),Tt),Gt=g.b.img(et||(et=Object(f.a)(["\n  width: 220px;\n"]))),Vt=g.b.h2(tt||(tt=Object(f.a)(["\n  font-size: 1rem;\n  margin: 1rem 0;\n  width: 150px;\n  word-break: break-all;\n"]))),Wt=g.b.img(nt||(nt=Object(f.a)(["\n  margin: 0.5rem;\n  width: 25px;\n"]))),Ht=function(e){var t=e.userGallery,n=Object(i.useState)(""),a=Object(y.a)(n,2),r=a[0],l=a[1];function c(e){l(e.name),function(){o.apply(this,arguments)}()}function o(){return(o=Object(w.a)(E.a.mark((function e(){var t,n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://photo-mode.herokuapp.com/api/cloudinary/deleteImage?deleteImage=".concat(r),{});case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,a=r.split("/")[1],"ok"===n.status?alert("".concat(a," Deleted")):alert(n.error);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var s={hidden:{opacity:0},show:{opacity:1}};function m(){return u.a.createElement(u.a.Fragment,null,t.map((function(e,t){return u.a.createElement(Ft,{key:e.image},u.a.createElement(Mt,{variants:s,initial:"hidden",animate:"show",transition:{delay:.13*t}},u.a.createElement(Bt,null,u.a.createElement(Vt,null,e.title),u.a.createElement(Tt,null,u.a.createElement(Wt,{value:e.title,onClick:function(){return c(e)},src:Rt.a}),u.a.createElement(qt,{className:"tooltip-text"},"Double Click to Delete"))),u.a.createElement(Gt,{src:e.image,alt:e.desc,value:e.name,loading:"lazy"})))})))}return u.a.createElement(At,null,0!==t&&u.a.createElement(m,null))},Kt=g.b.div(at||(at=Object(f.a)(["\n  width: 100%;\n  border-bottom: 1px aliceblue solid;\n  margin: 0 0 1rem 0;\n"]))),Qt=g.b.div(rt||(rt=Object(f.a)(["\n  background-color: gray;\n  width: clamp(350px, 100%, 1000px);\n  height: fit-content;\n  margin: 0 0 1rem 0;\n"]))),Xt=g.b.div(lt||(lt=Object(f.a)(["\n  border-radius: 10px;\n"]))),Yt=function(){var e=Object(i.useState)(""),t=Object(y.a)(e,2),n=t[0],a=t[1],r=Object(i.useState)([]),l=Object(y.a)(r,2),c=l[0],o=l[1],s=Object(i.useState)(""),m=Object(y.a)(s,2),p=m[0],b=m[1];Object(i.useEffect)((function(){var e=!0,t=function(){var e=Object(w.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,JSON.parse(window.localStorage.getItem("user"));case 2:null!==(t=e.sent)?a(t.username):alert("userName not set");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return function(){var t=Object(w.a)(E.a.mark((function t(){var a,r,l,c,i;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://photo-mode.herokuapp.com/api/cloudinary/usergallery?folderData=".concat(n),{});case 2:return a=t.sent,t.next=5,a.json();case 5:"ok"===(r=t.sent).status&&(l=r.results.total_count,c=r.results.resources,i=c.map((function(e){return{id:e.asset_id,title:e.public_id.split(/(?:\/|\.)+/)[1],image:e.secure_url,name:e.public_id}})),e?(o(i),b(l)):alert(r.error));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(),t(),function(){return e=!1}}),[n]);return u.a.createElement(j,{variants:{hidden:{opacity:0},show:{opacity:1}},initial:"hidden",animate:"show",transition:{delay:.3}},u.a.createElement(Kt,null,u.a.createElement("h1",null,"Dashboard")),u.a.createElement(Qt,null,u.a.createElement(Xt,null,u.a.createElement(Ct,{name:n,count:p})),u.a.createElement(Xt,null,u.a.createElement(zt,{folderName:n}))),u.a.createElement(Xt,null,u.a.createElement(Ht,{userGallery:c,userName:n})))},Zt=g.b.div(ct||(ct=Object(f.a)(["\n  font-size: 1rem;\n  color: aliceblue;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  width: 100%;\n"]))),$t=g.b.div(ot||(ot=Object(f.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  margin: 0.5rem auto 0;\n  width: 100%;\n"]))),en=g.b.button(it||(it=Object(f.a)(["\n  border: 1px transparent solid;\n  border-radius: 4px;\n  transition: 0.4s;\n  height: 42px;\n  margin: 1rem 0 0 0;\n  &:hover {\n    transition: all 0.4s;\n    color: aliceblue;\n    background-color: transparent;\n    border: 1px grey solid;\n  }\n"]))),tn=g.b.div(ut||(ut=Object(f.a)([""]))),nn=g.b.img(st||(st=Object(f.a)(["\n  margin: 1rem auto 0;\n  width: 200px;\n"]))),an=function(e){var t=Object(i.useState)(""),n=Object(y.a)(t,2),a=n[0],r=n[1],l=Object(i.useState)(""),c=Object(y.a)(l,2),o=c[0],s=c[1],m=e.folderName,p=void 0===m?"":m,b=o.avatarPreviewUrl&&u.a.createElement(nn,{src:o.avatarPreviewUrl,alt:"avatar preview"}),d=o&&u.a.createElement(en,{onClick:function(){r(""),s("");var e=new FormData;e.append("file",a),e.append("tags","avatar"),e.append("folder",p),e.append("upload_preset","gallery"),e.append("cloud_name","proj3"),fetch("https://api.cloudinary.com/v1_1/proj3/image/upload",{method:"post",body:e}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}},"Upload");return u.a.createElement(Zt,null,u.a.createElement($t,null,u.a.createElement(tn,null,u.a.createElement("input",{type:"file",accept:"image/png, image/jpeg, image/svg, image/gif",onChange:function(e){return function(e){e.preventDefault();var t=new FileReader,n=e.target.files[0];r(n),t.onloadend=function(){s({file:n,avatarPreviewUrl:t.result})},t.readAsDataURL(n)}(e)}})),d),u.a.createElement($t,null,b))},rn=g.b.div(mt||(mt=Object(f.a)(["\n  background-color: gray;\n  width: clamp(350px, 30%, 600px);\n  height: fit-content;\n  margin-bottom: 2rem;\n"]))),ln=g.b.div(pt||(pt=Object(f.a)(["\n  word-wrap: break-word;\n  border: 0.5px rgb(97, 97, 97) solid;\n  border-radius: 10px;\n  margin: 0.5rem 0.5rem 0.5rem 1rem;\n  padding: 0.5rem;\n  height: fit-content;\n"]))),cn=g.b.div(bt||(bt=Object(f.a)(["\n  padding: 1rem 0.5rem 1rem 0;\n  font-size: 1rem;\n  overflow-wrap: break-word;\n"]))),on=g.b.input(dt||(dt=Object(f.a)(["\n  margin: 0 1rem 0 0;\n"]))),un=g.b.button(ft||(ft=Object(f.a)(["\n  border: 1px transparent solid;\n  border-radius: 2px;\n  transition: 0.4s;\n  height: 32px;\n  margin: 0 1rem 0 0;\n  &:hover {\n    transition: all 0.4s;\n    color: aliceblue;\n    background-color: grey;\n  }\n\n  &:active {\n    border: 1px black solid;\n    background-color: black;\n  }\n"]))),sn=(g.b.label(gt||(gt=Object(f.a)(["\n  font-size: 1rem;\n  color: aliceblue;\n"]))),function(e){var t=e.nameProp,n=e.emailProp,a=e.bioProp,r=Object(i.useState)(null),l=Object(y.a)(r,2),c=l[0],o=l[1],s=Object(i.useState)(""),m=Object(y.a)(s,2),p=m[0],b=m[1],d=Object(i.useState)(""),f=Object(y.a)(d,2),g=f[0],h=f[1],j=Object(i.useState)(""),v=Object(y.a)(j,2),x=v[0],O=v[1];Object(i.useEffect)((function(){return b(t),h(n),O(a),function(){}}),[t,n,a]);return u.a.createElement(rn,null,u.a.createElement(ln,null,u.a.createElement("h1",null,p)),u.a.createElement(ln,null,u.a.createElement("form",{onSubmit:function(e){return e.preventDefault(e),ae.a.post("https://photo-mode.herokuapp.com/api/auth/editBio",{username:p,email:g,bio:c}).then((function(t){return function(){var e=localStorage.getItem("user"),t=JSON.parse(e);t.bio=c,localStorage.setItem("user",JSON.stringify(t))}(),O(t.data.bio),e.target.reset(),t.data.bio}))}},u.a.createElement(on,{maxLength:"80",type:"text",placeholder:" Edit Bio",onChange:function(e){return o(e.target.value)}}),c?u.a.createElement(un,{buttonLabel:"Submit",className:"Btn",type:"submit"},"Submit"):null,u.a.createElement(cn,null,c||x))),u.a.createElement(ln,null,u.a.createElement(un,{buttonLabel:"Logout",type:"button",onClick:function(){localStorage.removeItem("user"),window.location.href="/login"}},"Logout")))}),mn=g.b.div(ht||(ht=Object(f.a)(["\n  width: 100%;\n  text-align: right;\n  border-bottom: 1px aliceblue solid;\n  margin: 0 0 2rem 0;\n"]))),pn=(g.b.div(jt||(jt=Object(f.a)(["\n  background-color: gray;\n  width: clamp(350px, 30%, 600px);\n  height: fit-content;\n  margin-bottom: 2rem;\n"]))),g.b.input(vt||(vt=Object(f.a)([""]))),g.b.img(xt||(xt=Object(f.a)(["\n  width: 300px;\n  height: fit-content;\n"])))),bn=g.b.div(Ot||(Ot=Object(f.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  border: 0.5px rgb(97, 97, 97) solid;\n  border-radius: 10px;\n  padding: 0.5rem;\n"]))),dn=g.b.div(Et||(Et=Object(f.a)(["\n  filter: opacity(0);\n  width: 120px;\n  background-color: #e47a83;\n  color: #2e2e2e;\n  text-align: center;\n  border-radius: 6px;\n  padding: 5px 0;\n  /* Position the tooltip */\n  position: absolute;\n  z-index: 1;\n  ",":hover & {\n    transition: all 0.5s;\n    filter: opacity(1);\n  }\n"])),bn),fn=function(){var e=Object(i.useState)([]),t=Object(y.a)(e,2),n=t[0],a=t[1],r=Object(i.useState)(!1),l=Object(y.a)(r,2),c=l[0],o=l[1],s=Object(i.useState)(""),m=Object(y.a)(s,2),p=m[0],b=m[1],d=Object(i.useState)(""),f=Object(y.a)(d,2),g=f[0],h=f[1],v=Object(i.useState)(""),O=Object(y.a)(v,2),k=O[0],S=O[1],N=Object(i.useState)(!1),L=Object(y.a)(N,2),C=L[0],I=L[1];function P(){o(!c)}Object(i.useEffect)((function(){var e=function(){var e=Object(w.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!0),e.next=3,JSON.parse(window.localStorage.getItem("user"));case 3:null!==(t=e.sent)?h(t.email):alert("userEmail not set");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(w.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!0),e.next=3,JSON.parse(window.localStorage.getItem("user"));case 3:null!==(t=e.sent)?b(t.username):alert("userName not set");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n=function(){var e=Object(w.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!0),e.next=3,JSON.parse(window.localStorage.getItem("user"));case 3:null!==(t=e.sent)?S(t.bio):alert("userBio not set");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r=function(){var e=Object(w.a)(E.a.mark((function e(){var t,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://photo-mode.herokuapp.com/api/cloudinary/avatar?folderData=".concat(p));case 2:return t=e.sent,e.next=5,t.json();case 5:if(n=e.sent,e.t0="ok"===n.status&&n.results.total_count,!e.t0){e.next=10;break}return e.next=10,a(n.results.resources[0].secure_url);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();n(),e(),t(),r(),I(!1)}),[p]);var D=n.length>0?u.a.createElement(u.a.Fragment,null,u.a.createElement(pn,{src:n,alt:"avatar",onClick:function(){return P()}})):u.a.createElement("div",{onClick:function(){return P()}},"No avatar selected, click here to add"),_=c&&u.a.createElement(an,{folderName:p});return u.a.createElement(K,null,u.a.createElement(j,null,u.a.createElement(mn,null,u.a.createElement("h1",null,"Account")),C?u.a.createElement("h1",null,"Loading..."):u.a.createElement(u.a.Fragment,null,u.a.createElement(sn,{nameProp:p,emailProp:g,bioProp:k}),u.a.createElement(x,null,u.a.createElement(dn,{className:"tooltip-text"},"Click to Change"),D,_))))},gn=g.b.nav(wt||(wt=Object(f.a)(["\n  font-weight: 500;\n  display: flex;\n  color: aliceblue;\n  display: flex;\n  justify-content: space-between;\n  margin: 1rem 10vw 4rem;\n  &:active {\n    color: #272727;\n  }\n  &:focus {\n    color: #c0b2b2;\n  }\n  &:hover {\n    color: #c0b2b2;\n  }\n"]))),hn=function(){return u.a.createElement("div",null,u.a.createElement(gn,null,u.a.createElement(p.c,{to:"/Dashboard",style:function(e){return{color:e.isActive?"transparent":"aliceblue"}}},"Dashboard"),u.a.createElement(p.c,{to:"/Explore",style:function(e){return{color:e.isActive?"transparent":"aliceblue"}}},"Explore"),u.a.createElement(p.c,{to:"/Account",style:function(e){return{color:e.isActive?"transparent":"aliceblue"}}},"Account")),u.a.createElement(b.a,null))},jn=function(){var e=Object(b.f)();return u.a.createElement(v,null,u.a.createElement(h,null),u.a.createElement(hn,null),u.a.createElement(d.AnimatePresence,{exitBeforeEnter:!0,initial:!0},u.a.createElement(b.d,{location:e,key:e.pathname},u.a.createElement(b.b,{path:"/login",exact:!0,element:u.a.createElement(Q,null)}),u.a.createElement(b.b,{path:"/register",exact:!0,element:u.a.createElement(Ce,null)}),u.a.createElement(b.b,{path:"/explore",exact:!0,element:u.a.createElement(Nt,null)}),u.a.createElement(b.b,{path:"/dashboard",exact:!0,element:u.a.createElement(Yt,null)}),u.a.createElement(b.b,{path:"/account",exact:!0,element:u.a.createElement(fn,null)}),u.a.createElement(b.b,{path:"*",element:u.a.createElement(Q,null)}))))};m.a.render(u.a.createElement(u.a.StrictMode,null,u.a.createElement(p.a,null,u.a.createElement(jn,null))),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.ef46a09d.chunk.js.map